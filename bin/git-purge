#!/bin/sh

# TODO: Purge origin `git purge origin`
# TODO: Include force flag to bypass warning `git purge -f`

COLOR_MERGED='\033[1;32m' # Light Green
COLOR_NONE='\033[0m'

git info

echo "Branches in ${COLOR_MERGED} green ${COLOR_NONE} are merged to main and will be removed. " 

echo "" && : 

echo "Are you sure? [y/N] "

read -r response

if echo "$response" | grep -Eq "^([yY][eE][sS]|[yY])$"; then
    git branch --merged| grep -v -E  "(^\*|master)" | xargs git branch -d
fi
